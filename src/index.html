<!DOCTYPE html>

<html lang="en">
	<head>
		<meta charset="UTF-8">
		<link rel="stylesheet" href="index.css">
		<script src="https://d3js.org/d3.v6.min.js"></script>
		<style>
			svg {
				position: fixed;
				width: 1500px;
				height: 1000px;
				border: 1px solid black;
				background-color: white;
				bottom: 0;
				left: 0;
			}
			.l-container {
				position: relative;
				z-index: 1;
			}
			.l-horizontal, .l-vertical {
				background-color: white;
				position: absolute;
			}
		
			.l-horizontal {
				width: 1000px;
				height: 10px;
				top: 50px;
				right: 50px;
			}
			.l-vertical {
				width: 10px;
				height: 1000px;
				top: 50px;
				right: 50px;
			}
		
			.link line {
					stroke: #999;
					stroke-opacity: 0.6;
					stroke-width: 2px;
					fill: none;
				}
			.node circle {
					stroke: #fff;
					stroke-width: 2px;
					fill: white;
					border: black;
				}
			.node text {
					font: 12px sans-serif;
					pointer-events: none;
					fill: #333;
				}
		
		</style>
	</head>

<div id="title" class="prevent-select">
	Flow Network <span class = "effect">Visualizer</span>
</div>
<body>
	<div id="menu">
		<div id="menu-items" class="prevent-select">
			<button class="menu-item">Ford-Fulkerson</button>
			<button class="menu-item">Edmonds-Karp</button>
			<button class="menu-item">Dinic's</button>
			<a href="/explain.html" class="menu-item">Explained</a>
		</div>
	</div>
	<svg></svg>
    <script>
 var svg = d3.select("svg"),
            width = +svg.attr("width"),
            height = +svg.attr("height");

        var nodes = [
            { id: "Node1", x: width / 3, y: height / 2 },
            { id: "Node2", x: 2 * width / 3, y: height / 2 }
        ];

        var simulation = d3.forceSimulation(nodes)
            .force("charge", d3.forceManyBody().strength(-200))
            .force("center", d3.forceCenter(width / 2, height / 2))
            .on("tick", ticked);

        function dragstarted(event, d) {
            if (!event.active) simulation.alphaTarget(0.3).restart();
            d.fx = d.x;
            d.fy = d.y;
        }

        function dragged(event, d) {
            d.fx = event.x;
            d.fy = event.y;
        }

        function dragended(event, d) {
            if (!event.active) simulation.alphaTarget(0);
            d.fx = null;
            d.fy = null;
        }

        function ticked() {
            var u = svg.selectAll('.node')
                .data(nodes, function(d) { return d.id; });

            var uEnter = u.enter()
                .append('g')
                .attr('class', 'node')
                .call(d3.drag()
                    .on("start", dragstarted)
                    .on("drag", dragged)
                    .on("end", dragended));

            uEnter.append('circle')
                .attr('r', 20);

            uEnter.append('text')
                .text(function(d) { return d.id; })
                .attr('x', -10)
                .attr('y', 5);

            uEnter.merge(u)
                .attr('transform', function(d) {
                    return 'translate(' + d.x + ',' + d.y + ')';
                });
        }

        simulation.nodes(nodes);
    </script>
</body>
<div class="l-container">
	<div class="l-horizontal"></div>
	<div class="l-vertical"></div>
</div>	

</html>